%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Academic Title Page
% LaTeX Template
% Version 2.0 (17/7/17)
%
% This template was downloaded from:
% http://www.LaTeXTemplates.com
%
% Original author:
% WikiBooks (LaTeX - Title Creation) with modifications by:
% Vel (vel@latextemplates.com)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
% 
% Instructions for using this template:
% This title page is capable of being compiled as is. This is not useful for 
% including it in another document. To do this, you have two options: 
%
% 1) Copy/paste everything between \begin{document} and \end{document} 
% starting at \begin{titlepage} and paste this into another LaTeX file where you 
% want your title page.
% OR
% 2) Remove everything outside the \begin{titlepage} and \end{titlepage}, rename
% this file and move it to the same directory as the LaTeX file you wish to add it to. 
% Then add \input{./<new filename>.tex} to your LaTeX file where you want your
% title page.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[11pt]{scrreprt}

\usepackage[utf8]{inputenc} % Required for inputting international characters
\usepackage[T1]{fontenc} % Output font encoding for international characters

\usepackage{mathpazo} % Palatino font

\usepackage{graphicx}

\usepackage[autostyle=true]{csquotes}
\usepackage[backend=biber,style=authoryear]{biblatex}

\usepackage{parskip}

\usepackage{svg}

\addbibresource{report.bib}

\begin{document}

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\begin{titlepage} % Suppresses displaying the page number on the title page and the subsequent page counts as page 1
	\newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % Defines a new command for horizontal lines, change thickness here
	
	\center % Centre everything on the page
	
	%------------------------------------------------
	%	Headings28427,-0.414214) to 234
	%------------------------------------------------
	
	\textsc{\LARGE Carleton University}\\[1.5cm] % Main heading such as the name of your university/college
	
	\textsc{\Large School of Computer Science}\\[0.5cm] % Major heading such as course name
	
	\textsc{\large COMP4905 -- Honours Project}\\[0.5cm] % Minor heading such as course title
	
	%------------------------------------------------
	%	Title
	%------------------------------------------------
	
	\HRule\\[0.4cm]
	
	{\huge\bfseries Formation Flight of UAVs Swarms in an Obstacle--Filled Three--Dimensional Environment}\\[0.4cm] % Title of your document
	
	\HRule\\[1.5cm]
	
	%------------------------------------------------
	%	Author(s)
	%------------------------------------------------
	
	\begin{minipage}{0.4\textwidth}
		\begin{flushleft}
			\large
			\textit{Author}\\
			Yannick \textsc{Abouem} % Your name
		\end{flushleft}
	\end{minipage}
	~
	\begin{minipage}{0.4\textwidth}
		\begin{flushright}
			\large
			\textit{Supervisor}\\
			Prof. Mark \textsc{Lanthier} % Supervisor's name
		\end{flushright}
	\end{minipage}
	
	% If you don't want a supervisor, uncomment the two lines below and comment the code above
	%{\large\textit{Author}}\\
	%John \textsc{Smith} % Your name
	
	%------------------------------------------------
	%	Date
	%------------------------------------------------
	
	\vfill\vfill\vfill % Position the date 3/4 down the remaining page
	
	{\large\today} % Date, change the \today to a set date if you want to be precise
	
	%------------------------------------------------
	%	Logo
	%------------------------------------------------
	
	\vfill\vfill
	\includegraphics[width=0.5\textwidth]{img/B_Logo_V-RGBRedBlackonLight150_130821.png}\\[1cm] % Include a department/university logo - this will require the graphicx package
	 
	%----------------------------------------------------------------------------------------
	
	\vfill % Push the date up 1/4 of the remaining page
	
\end{titlepage}

%----------------------------------------------------------------------------------------

\section*{Abstract}
Abstract goes here!

\section*{Acknowledgements}
This project uses Webots (http://www.cyberbotics.com), an open-source mobile robot simulation software developed by Cyberbotics Ltd.

\tableofcontents

\listoffigures

\chapter{Introduction}

Cooperation among different individuals in a group is often necessary to solve complex problems
that are otherwise harder or impossible to complete for a singular individual. This concept is
true in the field of robotics, where robotic swarms systems, which are systems composed of
numerous small and limited robots \autocite{HO17}, are a crucial area of study. Due to the early
stage of development of this field, there are not many currently existing applications, however
there exists many research projects to test the capabilities of swarm algorithms \autocite{MS20}.
Despite the lack of representation in the industry sector, multi-robot systems have become of
interest recently due to their abilities to resist failures and damages, adaptability to new
environments and low costs \autocite{HO17}.

A specific problem in swarm robotics, is the pattern formation problem, which consists of
"getting a group of robots to form and stay in a specific formation, like a wedge or a chain,
and maintaining that formation" \autocite{LS22}. The robots in the swarm need to coordinate
to maintain a specific shape in order to achieve the desired goal. In this process, different
methods of controlling the swarm can be used, for example the election of a leader or the 
imposition of a certain set of behaviors for each member. There is also a 
distinction between centralized and decentralized pattern formation, where centralized pattern
formation is performed when there exists a centralized unit that coordinates the individual
robots \autocite{HO17}.

In this project we will explore a decentralized and distributed solution to the pattern formation problem.
A distributed approach was chosen because of their robustness to failure, due to their
built-in redundancy since each robot in the swarm receives the same role \autocite{HO17}.
This is advantageous compared to a centralized, non-distributed approach as it
mitigates the possibility of a single point of failure.


\section{Swarms of Unmanned Aerial Vehicles}

A swarm of Unmanned Aerial Vehicles is a swarm of robots where each robot is capable of flight using
a set of rotors. These swarms have multiple uses. They are commonly used in military applications, but
they are also used for civilian applications, such as aerial surveys, disaster management, environment
mapping, search and rescue and for leisure \autocite{TA19}. These are applications that would benefit
from pattern formation, as we can direct the swarm to take an optimal shape for its use case. For 
example, we can choose a shape to best cover an area while performing an aerial survey or environment
mapping, or adopt a chain-like formation to establish communication between two points \autocite{MS20}
which can be deployed at a site of a natural disaster to aid in search and rescue efforts.


\section{Objectives}

The objective of this project is to provide a distributed solution to the pattern formation problem, meaning
build a system of multiple robots capable of positioning themselves in a specific shape and maintain this
shape while navigating an environment dotted by obstacles. This will be achieved using obstacle detection
and avoidance techniques, as well as distributed system principles, such as leader election, and computer
network principles. For this project we chose to use unmanned aerial vehicles to demonstrate the efficacy
of the solution. Similar work being done includes \autocite{HC21}, where a hierarchical approach is applied
to formation control of fixed wing UAVs, by breaking up the swarm into several smaller groups headed by a 
leader.


\chapter{Methodology}

In this chapter we will explore the method used in and considered for this project. Since this project
contains multiple sub-problems we decided to divide this chapter into four sections.

\section{Automated flight}

The first consideration for this project is about the autonomous flight of the UAVs, meaning that there 
should not be any input from the user regarding the flight control. This problem can then be broken down
into two components: the control algorithm that controls the ability of the UAV to fly and the navigation
algorithm that controls the direction of flight.

\subsection{Control Algorithm}

Flight controllers can be subdivided into two categories: linear controllers and non-linear controllers.
Linear controllers use linear methods to control flight, which includes conventional controllers such as
PID, $H_{\infty}$ controller, gain scheduling and Linear Quadratic Regulator. While non-linear controller
are derived from the original dynamic model of the UAVs and arose to overcome shortcomings of linear
controllers. They are generally harder to implement. Some examples are Feedback linearization, backstepping,
sliding mode control, adaptive control, and model predictive control. \autocite{NH20}

For this project we settled on linear controller due to their simplicity to implement, in particular
we considered the PID controller and the LQR controller.

\subsubsection{PID Control}

The Proportional Integral Derivative controller is the most common controller used in industrial settings
due to its usefulness and ease of implementation. \autocite{IL23} The controller is composed by a proportional
element, an integral element and a derivative element, that represent the present, past and future error value\autocite{AM09}.

\newpage

\begin{figure}
	\begin{center}
		\includesvg{img/pid_img}
	\end{center}
	\caption{Diagram of a conventional PID controller}\label{fig:pid}
\end{figure}

The controller first computes the error at a specific time $t$ ($e(t)$) using Eq. \ref{eq:pid-err}.

\begin{equation}
	e(t) = r(t) - y(t)
	\label{eq:pid-err}
\end{equation}

Where $r(t)$ is the set value and $y(t)$ is the real value of the process \autocite{AM09}. 
Form the computed error the controller then finds a control factor $u(t)$ using a proportional
coefficient ($K_p$), an integral coefficient ($K_I$) and a derivative coefficient ($K_D$) 
using Eq. \ref{eq:pid-u} \autocite{NH20}.

\begin{equation}
	u(t) = K_p e(t) + K_I \int^t_0 e(t) \mathrm{d} t + K_D \frac{\mathrm{d} e(t)}{\mathrm{d}t}
	\label{eq:pid-u}
\end{equation}

In this project we decided to implement a PID controller due to the ease of implementation and the 
higher number of resources available at our disposal.

\subsubsection{LQR Control}

The other option considered, is the Linear-Quadratic Regulator controller (LQR controller), which is the 
optimal linear controller to operate a dynamic system at minimum cost \autocite{NH20}.

\begin{equation}
	J_{LQR} = \int^\infty_0 y_i^T(t) Q y_i (t) + u_i^T (t) R u_i (t) \mathrm{d}t
	\label{eq:lqr-mc}
\end{equation}

Eq. \ref{eq:lqr-mc} computes the minimum quadratic cost ($J_{LQR}$) from the control input $u_i$ and control
output $y_i$, using two weight matrices ($Q$ and $R$) \autocite{NH20}.


\section{Obstacle Detection}

\section{Obstacle Avoidance}

\section{Pattern Formation}


\printbibliography
\end{document}
